!function(t){function e(e){for(var r,s,a=e[0],u=e[1],c=e[2],f=0,h=[];f<a.length;f++)s=a[f],i[s]&&h.push(i[s][0]),i[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);h.length;)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,a=1;a<n.length;a++){var u=n[a];0!==i[u]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={11:0,3:0,5:0,7:0,9:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;o.push([3,0]),n()}([,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var r=n(0),i=n.n(r),o=n(1),s=n.n(o);function a(t){var e=Math.round(Math.random()*(t.size.x-1))*t.cellSize,n=Math.round(Math.random()*(t.size.y-1))*t.cellSize;return new u(e,n)}var u=function(){function t(e,n){i()(this,t),this.x=e,this.y=n}return s()(t,null,[{key:"generate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a(t.field),r=null;if(!e)for(;!r;)t.coordsIntersectingWithSnakes(n)?n=a(t.field):r=n;return r||n}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"STATE_INITIALIZED",function(){return f}),n.d(e,"STATE_PAUSED",function(){return h}),n.d(e,"STATE_RUNNING",function(){return d}),n.d(e,"STATE_STOPPED",function(){return v}),n.d(e,"default",function(){return p});var r=n(0),i=n.n(r),o=n(1),s=n.n(o),a=n(7),u=n.n(a),c=n(11),l=n(6),f="STATE_INITIALIZED",h="STATE_PAUSED",d="STATE_RUNNING",v="STATE_STOPPED",p=function(){function t(e,n){var r=this,o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).debug,s=void 0!==o&&o;i()(this,t),u()(this,"tick",function(t){var e=r.setDelta(t);r.update(e),r.render(e),r.onTickEnd(),r.state!==v&&(r.reqAnimationFrame=window.requestAnimationFrame(r.tick))}),this.field=e,this.controls=n,this.snakes=[],this.state=f,this.reqAnimationFrame=null,this.debug=s,this.then=0,this.started=!1,this.gameover=!1,this.onTickEndCallbacks=[],this.food=[],this.field.app=this,this.controls.app=this}return s()(t,[{key:"start",value:function(){this.gameover||(this.state===f&&(this.field.addSnakes(this.snakes),this.snakes.forEach(function(t){return t.spawn()})),this.state=d,this.reqAnimationFrame||(this.then=performance.now(),this.reqAnimationFrame=window.requestAnimationFrame(this.tick)))}},{key:"pause",value:function(){this.state=h}},{key:"stop",value:function(){window.cancelAnimationFrame(this.reqAnimationFrame),this.reqAnimationFrame=null,this.state=v}},{key:"meetSnake",value:function(t){t.app=this,t.field=this.field,t.controls=this.controls,this.snakes.push(t)}},{key:"setDelta",value:function(t){var e=t-this.then;return this.then=t,e}},{key:"update",value:function(t){this.generateFood(),this.snakes.forEach(function(e){return e.tick(t)})}},{key:"render",value:function(t){this.field.draw(t)}},{key:"generateFood",value:function(){if(!this.food.length){var t=new c.default(this);this.food.push(t)}}},{key:"cellIntersectingWithObstacles",value:function(t){return this.coordsIntersectingWithSnakes(t)?this.gameOver():!this.field.endless&&(!!this.coorsOutsideField(t)&&this.gameOver())}},{key:"gameOver",value:function(){return this.gameover=!0,this.stop(),this.onTickEnd(this.field.gameOver),l.default.checkScore(this.snakes[0].score),!0}},{key:"onTickEnd",value:function(t){t?this.onTickEndCallbacks.push(t):(this.onTickEndCallbacks.forEach(function(t){return t()}),this.onTickEndCallbacks=[])}},{key:"coorsOutsideField",value:function(t){return t.x<0||t.x>=this.field.width||t.y<0||t.y>=this.field.height}},{key:"coordsIntersectingWithSnakes",value:function(t){var e=!1;return this.snakes.forEach(function(n){e||n.body.forEach(function(n){t.x===n.coords.x&&t.y===n.coords.y&&(e=!0)})}),e}}]),t}()},,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var r=n(0),i=n.n(r),o=n(1),s=n.n(o),a=n(2),u=function(){function t(e){i()(this,t),this.coords=e}return s()(t,null,[{key:"generate",value:function(e){return new t(a.default.generate(e))}}]),t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var r=n(0),i=n.n(r),o=n(1),s=n.n(o),a=function(){function t(){i()(this,t)}return s()(t,null,[{key:"checkScore",value:function(e){if(e){var n=t.score,r=n.length?-1:0;n.forEach(function(t,n){var i=t.points;r<0&&e>i&&(r=n)}),t.addScore(e,r)}}},{key:"addScore",value:function(e,n){var r,i=prompt("Whats your name?");if(i){var o={name:i,points:e,date:new Date},s=t.score;n<0?s.push(o):s.splice(n,0,o),s.length>10&&s.pop(),localStorage.setItem("snaked-score",(r=s,JSON.stringify(r)))}}},{key:"score",get:function(){var t=localStorage.getItem("snaked-score")||"[]",e=null;try{e=JSON.parse(t)}catch(t){e=[]}return e}}]),t}()},,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n(0),i=n.n(r),o=n(1),s=n.n(o),a=n(8),u=n.n(a),c=n(9),l=n.n(c),f=n(10),h=n.n(f),d=n(2),v=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.coords,s=void 0===o?d.default.generate(t):o,a=r.power,c=void 0===a?1:a,f=r.score,h=void 0===f?100:f;return i()(this,e),(n=u()(this,l()(e).call(this,s))).app=t,n.power=c,n.score=h,n}return h()(e,t),s()(e,[{key:"destroy",value:function(){var t=this,e=null;this.app.food.forEach(function(n,r){n===t&&(e=r)}),this.app.food.splice(e,1)}}]),e}(n(5).default)}]);