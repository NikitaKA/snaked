!function(u){function t(t){for(var e,n,r=t[0],i=t[1],o=t[2],s=0,a=[];s<r.length;s++)n=r[s],l[n]&&a.push(l[n][0]),l[n]=0;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(u[e]=i[e]);for(h&&h(t);a.length;)a.shift()();return f.push.apply(f,o||[]),c()}function c(){for(var t,e=0;e<f.length;e++){for(var n=f[e],r=!0,i=1;i<n.length;i++){var o=n[i];0!==l[o]&&(r=!1)}r&&(f.splice(e--,1),t=s(s.s=n[0]))}return t}var n={},l={11:0,3:0,5:0,7:0,9:0},f=[];function s(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return u[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=u,s.c=n,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var e=window.webpackJsonp=window.webpackJsonp||[],r=e.push.bind(e);e.push=t,e=e.slice();for(var i=0;i<e.length;i++)t(e[i]);var h=r;f.push([3,0]),c()}([,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var r=n(0),i=n.n(r),o=n(1),s=n.n(o);function a(t){var e=Math.round(Math.random()*(t.size.x-1))*t.cellSize,n=Math.round(Math.random()*(t.size.y-1))*t.cellSize;return new u(e,n)}var u=function(){function n(t,e){i()(this,n),this.x=t,this.y=e}return s()(n,null,[{key:"generate",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=a(t.field),r=null;if(!e)for(;!r;)t.coordsIntersectingWithSnakes(n)?n=a(t.field):r=n;return r||n}}]),n}()},function(t,e,n){"use strict";n.r(e),n.d(e,"STATE_INITIALIZED",function(){return f}),n.d(e,"STATE_PAUSED",function(){return h}),n.d(e,"STATE_RUNNING",function(){return d}),n.d(e,"STATE_STOPPED",function(){return v}),n.d(e,"default",function(){return p});var r=n(0),s=n.n(r),i=n(1),a=n.n(i),o=n(7),u=n.n(o),c=n(11),l=n(6),f="STATE_INITIALIZED",h="STATE_PAUSED",d="STATE_RUNNING",v="STATE_STOPPED",p=function(){function o(t,e){var n=this,r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).debug,i=void 0!==r&&r;s()(this,o),u()(this,"tick",function(t){var e=n.setDelta(t);n.update(e),n.render(e),n.onTickEnd(),n.state!==v&&(n.reqAnimationFrame=window.requestAnimationFrame(n.tick))}),this.field=t,this.controls=e,this.snakes=[],this.state=f,this.reqAnimationFrame=null,this.debug=i,this.then=0,this.started=!1,this.gameover=!1,this.onTickEndCallbacks=[],this.food=[],(this.field.app=this).controls.app=this}return a()(o,[{key:"start",value:function(){this.gameover||(this.state===f&&(this.field.addSnakes(this.snakes),this.snakes.forEach(function(t){return t.spawn()})),this.state=d,this.reqAnimationFrame||(this.then=performance.now(),this.reqAnimationFrame=window.requestAnimationFrame(this.tick)))}},{key:"pause",value:function(){this.state=h}},{key:"stop",value:function(){window.cancelAnimationFrame(this.reqAnimationFrame),this.reqAnimationFrame=null,this.state=v}},{key:"meetSnake",value:function(t){t.app=this,t.field=this.field,t.controls=this.controls,this.snakes.push(t)}},{key:"setDelta",value:function(t){var e=t-this.then;return this.then=t,e}},{key:"update",value:function(e){this.generateFood(),this.snakes.forEach(function(t){return t.tick(e)})}},{key:"render",value:function(t){this.field.draw(t)}},{key:"generateFood",value:function(){if(!this.food.length){var t=new c.default(this);this.food.push(t)}}},{key:"cellIntersectingWithObstacles",value:function(t){return this.coordsIntersectingWithSnakes(t)?this.gameOver():!this.field.endless&&(!!this.coorsOutsideField(t)&&this.gameOver())}},{key:"gameOver",value:function(){return this.gameover=!0,this.stop(),this.onTickEnd(this.field.gameOver),l.default.checkScore(this.snakes[0].score),!0}},{key:"onTickEnd",value:function(t){t?this.onTickEndCallbacks.push(t):(this.onTickEndCallbacks.forEach(function(t){return t()}),this.onTickEndCallbacks=[])}},{key:"coorsOutsideField",value:function(t){return t.x<0||t.x>=this.field.width||t.y<0||t.y>=this.field.height}},{key:"coordsIntersectingWithSnakes",value:function(e){var n=!1;return this.snakes.forEach(function(t){n||t.body.forEach(function(t){e.x===t.coords.x&&e.y===t.coords.y&&(n=!0)})}),n}}]),o}()},,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var r=n(0),i=n.n(r),o=n(1),s=n.n(o),a=n(2),u=function(){function e(t){i()(this,e),this.coords=t}return s()(e,null,[{key:"generate",value:function(t){return new e(a.default.generate(t))}}]),e}()},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var r=n(0),i=n.n(r),o=n(1),a=n.n(o),s=function(){function s(){i()(this,s)}return a()(s,null,[{key:"checkScore",value:function(r){if(r){var t=s.score,i=t.length?-1:0;t.forEach(function(t,e){var n=t.points;i<0&&n<r&&(i=e)}),s.addScore(r,i)}}},{key:"addScore",value:function(t,e){var n,r=prompt("Whats your name?");if(r){var i={name:r,points:t,date:new Date},o=s.score;e<0?o.push(i):o.splice(e,0,i),5<o.length&&o.pop(),localStorage.setItem("snaked-score",(n=o,JSON.stringify(n)))}}},{key:"score",get:function(){var t=localStorage.getItem("snaked-score")||"[]",e=null;try{e=JSON.parse(t)}catch(t){e=[]}return e}}]),s}()},,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return c});var r=n(0),l=n.n(r),i=n(1),o=n.n(i),s=n(8),f=n.n(s),a=n(9),h=n.n(a),u=n(10),d=n.n(u),v=n(2),c=function(t){function c(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.coords,i=void 0===r?v.default.generate(t):r,o=n.power,s=void 0===o?1:o,a=n.score,u=void 0===a?100:a;return l()(this,c),(e=f()(this,h()(c).call(this,i))).app=t,e.power=s,e.score=u,e}return d()(c,t),o()(c,[{key:"destroy",value:function(){var n=this,r=null;this.app.food.forEach(function(t,e){t===n&&(r=e)}),this.app.food.splice(r,1)}}]),c}(n(5).default)}]);