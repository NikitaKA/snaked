!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=19)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},,,function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return c});var i=n(0),r=n.n(i),a=n(1),o=n.n(a),c=function(){function t(){r()(this,t)}return o()(t,null,[{key:"checkScore",value:function(e){if(e){var n=t.score,i=n.length?-1:0;n.forEach(function(t,n){var r=t.points;i<0&&e>r&&(i=n)}),t.addScore(e,i)}}},{key:"addScore",value:function(e,n){var i=prompt("Whats your name?");if(i){var r={name:i,points:e,date:new Date},a=t.score;n<0?a.push(r):a.splice(n,0,r),a.length>5&&a.pop(),localStorage.setItem("snaked-score",JSON.stringify(a))}}},{key:"score",get:function(){var t=localStorage.getItem("snaked-score")||"[]",e=null;try{e=JSON.parse(t)}catch(t){e=[]}return e}}]),t}()},,,,function(t,e,n){"use strict";n.r(e),n.d(e,"DRAWTEXT_ALIGN_CENTER",function(){return i}),n.d(e,"drawText",function(){return r});var i="center";function r(t,e,n){var r=n.padding||0,a=0,o=0;switch(n.lines.forEach(function(e){t.font=e.font,e.width=t.measureText(e.text).width,e.width>a&&(a=e.width),o+=e.height}),t.save(),n.align){case i:t.translate(0,(e.height-o-2*r)/2),t.fillStyle=n.bgcolor,t.globalAlpha=n.bgAlpha||1,t.fillRect(e.width/2-a/2-r,0,a+2*r,o+2*r),t.globalAlpha=n.alpha||1;var c=r;n.lines.forEach(function(n){t.textBaseline=n.baseline||"middle",t.fillStyle=n.color||"black",t.font=n.font,t.fillText(n.text,e.width/2-n.width/2,c+n.height/2),c+=n.height})}t.restore()}},,,,function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var i=n(0),r=n.n(i),a=n(1),o=n.n(a),c=n(4),l=n.n(c),s=n(11),h=n(15),u=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.width,o=void 0===a?0:a,c=i.height,s=void 0===c?0:c,u=i.cellSize,f=void 0===u?10:u,d=i.endless,p=void 0!==d&&d;i.debug;r()(this,t),l()(this,"gameOver",function(){n.clearField(),n.draw(),Object(h.drawText)(n.ctx,n,{align:h.DRAWTEXT_ALIGN_CENTER,padding:2,bgcolor:"#ffffff",bgAlpha:.75,lines:[{font:"bold 14px Arial",height:14,text:"GAME OVER"},{font:"12px Arial",height:12,text:"SCORE: ".concat(n.app.snakes[0].score)}]})}),this.app=null,o||(o=Math.floor(window.innerWidth/f)),s||(s=Math.floor(window.innerHeight/f)),this.size={x:o,y:s},this.cellSize=f,this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.width=o*this.cellSize,this.height=s*this.cellSize,this.endless=p,this.init()}return o()(t,[{key:"init",value:function(){this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px"}},{key:"draw",value:function(t){this.clearField(),this.drawSnakes(),this.drawFood(t),this.app.started||this.drawScore(),this.app.debug&&t&&this.drawDebug(t)}},{key:"drawScore",value:function(){var t=s.default.score;if(t.length){var e=[];t.forEach(function(t){var n=t.name,i=t.points;e.push({font:"12px Arial",height:12,text:"".concat(n," ").concat(i)})}),Object(h.drawText)(this.ctx,this,{align:h.DRAWTEXT_ALIGN_CENTER,padding:2,bgcolor:"#ffffff",bgAlpha:.75,lines:[{font:"bold 14px Arial",height:14,text:"BEST SCORES"}].concat(e)})}}},{key:"clearField",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}},{key:"drawSnakes",value:function(){var t=this;this.snakes.forEach(function(e){return t.drawSnake(e)})}},{key:"drawSnake",value:function(t){var e=this;this.ctx.save(),this.ctx.fillStyle=t.color,t.body.forEach(function(t){var n=t.coords,i=n.x,r=n.y;e.ctx.fillRect(i,r,e.cellSize,e.cellSize)}),this.ctx.restore()}},{key:"drawFood",value:function(t){var e=this;this.app.food.forEach(function(n){n.tick(t),n.draw(e.ctx)})}},{key:"drawDebug",value:function(t){this.ctx.font="bold 10px Arial";var e=t>0?Math.round(1e3/t):"00",n="FPS: ".concat(e);this.ctx.fillStyle="black",this.ctx.globalAlpha=.5,this.ctx.fillText(n,this.cellSize,this.height-this.cellSize),this.ctx.globalAlpha=1}},{key:"snakes",get:function(){return this.app.snakes}}]),t}()}]);