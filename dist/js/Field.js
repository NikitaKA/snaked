!function(i){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=19)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},,,,,,,,function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return c});var n=i(0),r=i.n(n),a=i(1),o=i.n(a),c=function(){function a(){r()(this,a)}return o()(a,null,[{key:"checkScore",value:function(n){if(n){var t=a.score,r=t.length?-1:0;t.forEach(function(t,e){var i=t.points;r<0&&i<n&&(r=e)}),a.addScore(n,r)}}},{key:"addScore",value:function(t,e){var i=prompt("Whats your name?");if(i){var n={name:i,points:t,date:new Date},r=a.score;e<0?r.push(n):r.splice(e,0,n),5<r.length&&r.pop(),localStorage.setItem("snaked-score",JSON.stringify(r))}}},{key:"score",get:function(){var t=localStorage.getItem("snaked-score")||"[]",e=null;try{e=JSON.parse(t)}catch(t){e=[]}return e}}]),a}()},,,,function(t,e,i){"use strict";i.r(e),i.d(e,"DRAWTEXT_ALIGN_CENTER",function(){return c}),i.d(e,"drawText",function(){return n});var c="center";function n(e,i,t){var n=t.padding||0,r=0,a=0;switch(t.lines.forEach(function(t){e.font=t.font,t.width=e.measureText(t.text).width,t.width>r&&(r=t.width),a+=t.height}),e.save(),t.align){case c:e.translate(0,(i.height-a-2*n)/2),e.fillStyle=t.bgcolor,e.globalAlpha=t.bgAlpha||1,e.fillRect(i.width/2-r/2-n,0,r+2*n,a+2*n),e.globalAlpha=t.alpha||1;var o=n;t.lines.forEach(function(t){e.textBaseline=t.baseline||"middle",e.fillStyle=t.color||"black",e.font=t.font,e.fillText(t.text,i.width/2-t.width/2,o+t.height/2),o+=t.height})}e.restore()}},,,,,function(t,e,i){"use strict";i.r(e),i.d(e,"default",function(){return l});var n=i(0),f=i.n(n),r=i(1),a=i.n(r),o=i(9),d=i.n(o),c=i(10),p=i(14),l=function(){function u(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=i.width,r=void 0===n?0:n,a=i.height,o=void 0===a?0:a,c=i.cellSize,l=void 0===c?10:c,h=i.endless,s=void 0!==h&&h;i.debug;f()(this,u),d()(this,"gameOver",function(){e.clearField(),e.draw(),Object(p.drawText)(e.ctx,e,{align:p.DRAWTEXT_ALIGN_CENTER,padding:2,bgcolor:"#ffffff",bgAlpha:.75,lines:[{font:"bold 14px Arial",height:14,text:"GAME OVER"},{font:"12px Arial",height:12,text:"SCORE: ".concat(e.app.snakes[0].score)}]})}),this.app=null,r||(r=Math.floor(window.innerWidth/l)),o||(o=Math.floor(window.innerHeight/l)),this.size={x:r,y:o},this.cellSize=l,this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.width=r*this.cellSize,this.height=o*this.cellSize,this.endless=s,this.hue=0,this.hueDirection=1,this.init()}return a()(u,[{key:"init",value:function(){this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px"}},{key:"draw",value:function(t){this.clearField(),this.drawFood(),this.drawSnakes(),this.app.started||this.drawScore(),this.app.debug&&t&&this.drawDebug(t),this.hue+=this.hueDirection,255<this.hue&&(this.hueDirection*=-1,this.hue=255),this.hue<0&&(this.hueDirection*=-1,this.hue=0)}},{key:"drawScore",value:function(){var t=c.default.score;if(t.length){var n=[];t.forEach(function(t){var e=t.name,i=t.points;n.push({font:"12px Arial",height:12,text:"".concat(e," ").concat(i)})}),Object(p.drawText)(this.ctx,this,{align:p.DRAWTEXT_ALIGN_CENTER,padding:2,bgcolor:"#ffffff",bgAlpha:.75,lines:[{font:"bold 14px Arial",height:14,text:"BEST SCORES"}].concat(n)})}}},{key:"clearField",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}},{key:"drawSnakes",value:function(){var e=this;this.snakes.forEach(function(t){return e.drawSnake(t)})}},{key:"drawSnake",value:function(t){var r=this;this.ctx.save(),this.ctx.fillStyle=t.color,t.body.forEach(function(t){var e=t.coords,i=e.x,n=e.y;r.ctx.fillRect(i,n,r.cellSize,r.cellSize)}),this.ctx.restore()}},{key:"drawFood",value:function(){var r=this;this.ctx.save(),this.app.food.forEach(function(t){var e=t.coords,i=e.x,n=e.y;r.ctx.fillStyle="hsl("+r.hue+",100%,50%)",r.ctx.fillRect(i,n,r.cellSize,r.cellSize)}),this.ctx.restore()}},{key:"drawDebug",value:function(t){this.ctx.font="bold 10px Arial";var e=0<t?Math.round(1e3/t):"00",i="FPS: ".concat(e);this.ctx.fillStyle="black",this.ctx.globalAlpha=.5,this.ctx.fillText(i,this.cellSize,this.height-this.cellSize),this.ctx.globalAlpha=1}},{key:"snakes",get:function(){return this.app.snakes}}]),u}()}]);