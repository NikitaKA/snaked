!function(o){function e(e){for(var t,n,i=e[0],r=e[1],a=e[2],s=0,u=[];s<i.length;s++)n=i[s],l[n]&&u.push(l[n][0]),l[n]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(o[t]=r[t]);for(h&&h(e);u.length;)u.shift()();return d.push.apply(d,a||[]),c()}function c(){for(var e,t=0;t<d.length;t++){for(var n=d[t],i=!0,r=1;r<n.length;r++){var a=n[r];0!==l[a]&&(i=!1)}i&&(d.splice(t--,1),e=s(s.s=n[0]))}return e}var n={},l={4:0,2:0,3:0,5:0,9:0,11:0},d=[];function s(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=o,s.c=n,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var t=window.webpackJsonp=window.webpackJsonp||[],i=t.push.bind(t);t.push=e,t=t.slice();for(var r=0;r<t.length;r++)e(t[r]);var h=i;d.push([5,0]),c()}([,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(1),r=n.n(i),a=n(2),s=n.n(a);function u(e){var t=Math.round(Math.random()*(e.sizeX-1))*e.cellSize,n=Math.round(Math.random()*(e.sizeY-1))*e.cellSize;return new o(t,n)}var o=function(){function n(e,t){r()(this,n),this.x=e,this.y=t}return s()(n,null,[{key:"generate",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=u(e),i=null;if(!t)for(;!i;)e.coordsIntersectingWithSnakes(n)?n=u(e):i=n;return i||n}}]),n}()},function(e,t,n){"use strict";n.r(t),n.d(t,"DIRECTION_LEFT",function(){return u}),n.d(t,"DIRECTION_RIGHT",function(){return o}),n.d(t,"DIRECTION_UP",function(){return c}),n.d(t,"DIRECTION_DOWN",function(){return h}),n.d(t,"default",function(){return l});var i=n(1),d=n.n(i),r=n(2),a=n.n(r),s=n(6),u="DIRECTION_LEFT",o="DIRECTION_RIGHT",c="DIRECTION_UP",h="DIRECTION_DOWN",l=function(){function l(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.left,i=void 0===n?"ArrowLeft":n,r=t.right,a=void 0===r?"ArrowRight":r,s=t.up,u=void 0===s?"ArrowUp":s,o=t.down,c=void 0===o?"ArrowDown":o;d()(this,l),this.app=e,this.direction=null,this.keysPressed={},this.kLeft=i,this.kRight=a,this.kUp=u,this.kDown=c,this.init()}return a()(l,[{key:"init",value:function(){var t=this;window.addEventListener("keydown",function(e){if(t.app.state===s.STATE_PAUSED||t.app.state===s.STATE_STOPPED)return!1;t.keyDown(e)}),window.addEventListener("keyup",function(e){if(t.app.state===s.STATE_PAUSED||t.app.state===s.STATE_STOPPED)return!1;t.keyUp(e)})}},{key:"keyDown",value:function(e){this.keysPressed[e.code]=performance.now(),this.selectDirection()}},{key:"keyUp",value:function(e){this.keysPressed[e.code]=0,this.selectDirection()}},{key:"selectDirection",value:function(){var n=this,i=null,r=0;switch(Object.keys(this.keysPressed).forEach(function(e){var t=n.keysPressed[e];(!r&&t||r&&t&&r<t)&&(i=e,r=t)}),i){case this.kLeft:this.direction=u;break;case this.kRight:this.direction=o;break;case this.kUp:this.direction=c;break;case this.kDown:this.direction=h}}}]),l}()},function(e,t,n){"use strict";n.r(t),n.d(t,"STATE_INITIALIZED",function(){return f}),n.d(t,"STATE_PAUSED",function(){return p}),n.d(t,"STATE_RUNNING",function(){return v}),n.d(t,"STATE_STOPPED",function(){return k}),n.d(t,"default",function(){return w});var i=n(1),a=n.n(i),r=n(2),s=n.n(r),u=n(3),o=n.n(u),c=n(0),l=n.n(c),d=n(8),h=n(14),f="STATE_INITIALIZED",p="STATE_PAUSED",v="STATE_RUNNING",k="STATE_STOPPED",w=function(){function r(e){var n=this,t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).debug,i=void 0!==t&&t;a()(this,r),y.set(this,{writable:!0,value:!1}),T.set(this,{writable:!0,value:null}),S.set(this,{writable:!0,value:f}),b.set(this,{writable:!0,value:0}),E.set(this,{writable:!0,value:[]}),g.set(this,{writable:!0,value:[]}),m.set(this,{writable:!0,value:function(){l()(n,g).app=n,window.addEventListener("keypress",function(e){l()(n,I).call(n,e)}),window.addEventListener("blur",function(){n.stop()}),window.addEventListener("visibilitychange",function(){"visible"===document.visibilityState?n.start():n.stop()}),window.addEventListener("focus",function(){n.start()})}}),I.set(this,{writable:!0,value:function(e){switch(e.code){case"Space":switch(l()(n,S)){case v:n.pause();break;case p:n.start()}break;case"Enter":l()(n,g).addSnake()}}}),O.set(this,{writable:!0,value:function(e){var t=l()(n,P).call(n,e);l()(n,D).call(n,t),l()(n,_).call(n,t),l()(n,M).call(n),l()(n,S)!==k&&o()(n,T,window.requestAnimationFrame(l()(n,O)))}}),P.set(this,{writable:!0,value:function(e){var t=e-l()(n,b);return o()(n,b,e),t}}),D.set(this,{writable:!0,value:function(e){l()(n,g).update(e)}}),_.set(this,{writable:!0,value:function(e){l()(n,g).draw(e)}}),A.set(this,{writable:!0,value:function(e){return 1<l()(n,g).snakes.length?l()(n,g).killSnake(e):(o()(n,y,!0),n.stop(),l()(n,M).call(n,l()(n,g).gameOver),h.default.checkScore(l()(n,g).snakes[0].score)),!0}}),M.set(this,{writable:!0,value:function(e){e?l()(n,E).push(e):(l()(n,E).forEach(function(e){return e()}),o()(n,E,[]))}}),this.debug=i,o()(this,g,e),l()(this,m).call(this)}return s()(r,[{key:"start",value:function(){l()(this,y)||(o()(this,S,v),l()(this,T)||(o()(this,b,performance.now()),o()(this,T,window.requestAnimationFrame(l()(this,O)))))}},{key:"pause",value:function(){o()(this,S,p)}},{key:"stop",value:function(){window.cancelAnimationFrame(l()(this,T)),o()(this,T,null),o()(this,S,k)}},{key:"cellIntersectingWithObstacles",value:function(e,t){var n=l()(this,g).getCell(t);return d.default.isBody(n)?l()(this,A).call(this,e):!l()(this,g).endless&&(!!this.coorsOutsideField(t)&&l()(this,A).call(this,e))}},{key:"coorsOutsideField",value:function(e){return e.x<0||e.x>=l()(this,g).width||e.y<0||e.y>=l()(this,g).height}},{key:"isGameOver",get:function(){return l()(this,y)}},{key:"state",get:function(){return l()(this,S)}}]),r}(),y=new WeakMap,T=new WeakMap,S=new WeakMap,b=new WeakMap,E=new WeakMap,g=new WeakMap,m=new WeakMap,I=new WeakMap,O=new WeakMap,P=new WeakMap,D=new WeakMap,_=new WeakMap,A=new WeakMap,M=new WeakMap},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return o});var i=n(1),r=n.n(i),a=n(2),s=n.n(a),u=n(4),o=function(){function i(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).animationSpeed,n=void 0===t?0:t;r()(this,i),this.coords=e,this.msPassed=0,this.animationSpeed=n}return s()(i,[{key:"tick",value:function(e){this.msPassed+=e,this.animationSpeed?this.deTick(this.update):this.update()}},{key:"deTick",value:function(e){this.msPassed>=this.animationSpeed&&(this.msPassed=this.msPassed-this.animationSpeed,e(),this.deTick(e))}},{key:"update",value:function(){}}],[{key:"generate",value:function(e){return new i(u.default.generate(e))}}]),i}()},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return f});var i=n(1),r=n.n(i),a=n(2),s=n.n(a),u=n(9),o=n.n(u),c=n(10),l=n.n(c),d=n(11),h=n.n(d),f=function(e){function i(e,t){var n;return r()(this,i),(n=o()(this,l()(i).call(this,t))).snake=e,n}return h()(i,e),s()(i,null,[{key:"isBody",value:function(e){return e instanceof i}}]),i}(n(7).default)},,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return u});var i=n(1),r=n.n(i),a=n(2),s=n.n(a),u=function(){function a(){r()(this,a)}return s()(a,null,[{key:"checkScore",value:function(i){if(i){var e=a.score,r=e.length?-1:0;e.forEach(function(e,t){var n=e.points;r<0&&n<i&&(r=t)}),a.addScore(i,r)}}},{key:"addScore",value:function(e,t){var n=prompt("Whats your name?");if(n){var i={name:n,points:e,date:new Date},r=a.score;t<0?r.push(i):r.splice(t,0,i),5<r.length&&r.pop(),localStorage.setItem("snaked-score",JSON.stringify(r))}}},{key:"score",get:function(){var e=localStorage.getItem("snaked-score")||"[]",t=null;try{t=JSON.parse(e)}catch(e){t=[]}return t}}]),a}()}]);